<?xml version="1.0"	encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="studymenu">

	<select id="menuCount" resultType="int" parameterType="string">
		select count(*) from study_menu where menuid = #{menuid}
	</select>

	<select id="menuList" resultType="studymenu" parameterType="map">
		select * from ( select rownum rnum, a.* from (
		select * from study_menu where menuid = #{menuid}) a)
		where rnum BETWEEN #{start} and #{end}
	</select>
		
	<insert id="insertMenu" parameterType="studymenu">
	insert into study_menu values 
	(#{board_num},#{nickname},#{title},#{subject},#{price},#{pernum},#{region},#{content},#{menuid},sysdate,#{map})
	</insert>
	
	<select id="studySearch" parameterType="Search" resultType="StudyMenu">
	select * from study_menu where upper (${part}) like upper (#{searchData})
	</select>
	
	
	<!-- 저희 num값은 community의 시퀀스와 같은 시퀀스를 공유하여 쓰기로 하였습니다.
	       나중에 menu_seq대신 board_seq로 바꿔주세요!
	       -류
	 -->
	<select id = "NextNum" resultType = "int">
	select menu_seq.nextval from dual
</select>
	
	
</mapper>